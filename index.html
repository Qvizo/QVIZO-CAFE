<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>QVIZO - MIXÉR OTÁZOK</title>
<style>

body 
{
	font-family: 'Arial', sans-serif;
	font-size: 18px;
	text-align: center;
	background-color: #F0E68C;
	margin: 0;
	padding: 0;
	overflow-x: hidden;
	display: flex;
	justify-content: center;
	align-items: center;
	height: 100vh;
}


.start-container, .new-start-container 
{
	margin: 20px;
	max-width: 600px;
	min-height: 500px;
	display: flex;
	flex-direction: column;
	justify-content: center;
	padding: 20px;
	border: 5px solid #333;
	border-radius: 50px;
	background-color: #F5F5DC;
	box-sizing: border-box;
	width: 90%;
	position: relative;
	text-align: center;
}


.question-container, .start-container, .end-container 
{
	margin: 20px;
	max-width: 1200px;         /* ⬅️ TÚTO hodnotu môžeš zväčšiť */
	min-height: 800px;        /* ⬅️ Alebo aj túto */
	display: flex;
	flex-direction: column;
	justify-content: space-between;
	padding: 20px;
	border: 5px solid #333;
	border-radius: 50px;
	background-color: #F5F5DC;
	box-sizing: border-box;
	width: 90%;
	position: relative;
}


.question-counter 
{
	font-size: 28px;
	color: #777;
	margin-bottom: 10px;
}


.question 
{
	font-size: 62px;
	font-weight: bold;
	color: #333;
	padding: 15px;
	border: 3px solid #800080;
	border-radius: 20px;
	background-color: #F8D1B2;
	margin-bottom: 20px;
	word-wrap: break-word; /* Zabezpečí zalomenie textu */
	white-space: normal; /* Povolenie zalomenia textu */
	text-align: center;
	display: flex;                /* Dôležité */
	align-items: center;          /* Vertikálne centrovanie */
	justify-content: center;      /* Horizontálne centrovanie */
	flex-grow: 1;
	min-height: 150px; /* Nastavenie minimálnej výšky pre viac riadkov */
	max-height: 150px; /* fixná max výška napríklad pre 3 riadky */
  	overflow: hidden;  /* žiadne scrollovanie */
	overflow-y: auto;
}


.timer 
{
	font-size: 45px;
	color: #800000;
	font-weight: bold;
	margin-bottom: 20px;
}


.answers 
{
	flex-shrink: 0;
	width: 100%;
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	gap: 20px;
}


.answer-button 
{
	display: flex;
	justify-content: flex-start;
	align-items: center;
	width: 45%;
	margin: 10px 0;
	padding: 12px;
	font-size: 52px;
	font-weight: bold;
	border: none;
	border-radius: 12px;
	background-color: #ddd;
	color: black;
	cursor: pointer;
	box-sizing: border-box;
 	height: 150px; /* Fixná výška tlačidla */
    overflow: hidden;
    flex-direction: row; /* Už je flex, len na istotu */
    align-items: center;
}


.answer-letter 
{
	display: flex;
	justify-content: center;
	align-items: center;
	background-color: #800080;
	color: white;
	font-size: 50px;
	border-radius: 50%;
	margin-right: 20px;
	width: 60px;
	aspect-ratio: 1 / 1; /* zabezpečí kruhový tvar */
	flex-shrink: 0; /* zabráni zmenšovaniu pri dlhších textoch */
}


.answer-text 
{
	flex-grow: 1;
	text-align: center;
    white-space: normal; /* umožní viac riadkov */
    overflow-wrap: break-word;
    line-height: 1.2;
}


.menu button, .back-button, .stop-button 
{
	margin: 10px;
	padding: 10px 20px;
	font-size: 24px;
	font-weight: bold;
	border-radius: 10px;
	border: 2px solid #333;
	cursor: pointer;
	width: auto;
	margin-left: auto;
	margin-right: auto;
	white-space: nowrap;
}


.back-button 
{
	background-color: #6495ED !important;
	color: white;
}


.back-button:hover 
{
	background-color: #0000CD !important;
}


.stop-button 
{
	background-color: red !important;
	color: white;
}


.stop-button:hover 
{
	background-color: orange !important;
}


.button-container {
	display: flex;
    justify-content: center;
    gap: 10px;
    flex-wrap: wrap;
}


@media (max-width: 768px) {

.menu button, .back-button, .stop-button 
{
	font-size: 18px;  /* Zmenšíme veľkosť textu */
    padding: 8px 16px; /* Zmenšíme padding */
}

.button-container {
    flex-direction: row; /* Zarovnáme tlačidlá vedľa seba */
    justify-content: space-between; /* Medzera medzi tlačidlami */
    gap: 10px;
}

.back-button, .stop-button {
        width: 45%; /* Nastavíme šírku tlačidiel */
}
}


.qvizo-title 
{
	font-family: 'Broadway', sans-serif;
	font-size: 100px;
	color: red;
	font-weight: bold;
	margin-bottom: 10px;
}


.qvizo-title .q 
{
	color: red;
}


.qvizo-title .vizo 
{
	color: black;
}
	
    
.question-container 
{
	display: none;
}


.question-container .qvizo-title 
{
	font-size: 40px;
}


.question-container .q 
{
	color: red;
}

.question-container .vizo 
{
color: black;
}


.start-container, .end-container 
{
	display: none;
}


.end-container 
{
	text-align: center;
}


.start-container button.start-button 
{
	font-size: 48px;
	padding: 14px 28px;
	background-color: #800080;
	color: white;
	border-radius: 12px;
	border: none;
	cursor: pointer;
	width: auto;
	margin-top: 30px;
	transition: background-color 0.3s ease;
}


.start-container button.start-button:hover 
{
	background-color: #B57EDC;
}


.button-container 
{
	display: flex;
	justify-content: center;
	gap: 20px;
	flex-wrap: wrap;
}


.time-buttons 
{
	margin-top: 20px;
}


.time-button 
{
	font-size: 20px;
	font-weight: bold;
	padding: 10px 20px;
	margin: 5px;
	border-radius: 10px;
	border: 2px solid #333;
	cursor: pointer;
	background-color: #F0E68C;
	transition: background-color 0.3s ease;
	width: 20%; /* Zabezpečí, že tlačidlá budú rovnako široké */
}


.time-button.active 
{
	background-color: #B57EDC;
	color: white;
}


.button-container button /* Pridané štýly pre tlačidlá "Cafe" a "Solo" */
{
	font-size: 30px; /* Zmena veľkosti písma */
	font-weight: bold;
	padding: 15px 30px;
	background-color: #800080;
	color: white;
	border-radius: 12px;
	border: none;
	cursor: pointer;
	transition: background-color 0.3s ease;
}


.button-container button:hover 
{
	background-color: #B57EDC;
}


.button-container button:nth-child(1) 
{
	 background-color: #4CAF50; /* Zelené pozadie pre Cafe */
}


.button-container button:nth-child(2) 
{
	background-color: #FF5733; /* Oranžové pozadie pre Solo */
}


.button-container button:nth-child(1):hover 
{
	background-color: #45a049;
}


.button-container button:nth-child(2):hover 
{
	background-color: #ff7043;
}


.fullscreen-button 
{
	font-size: 48px;
	padding: 14px 28px;
	background-color: #4CAF50; 
	color: white;
	border-radius: 12px;
	border: none;
	cursor: pointer;
	width: auto;
	margin-top: 30px;
	transition: background-color 0.3s ease, font-size 0.3s ease;
}


.fullscreen-button:hover 
{
	background-color: green;
}


:fullscreen .question-container 
{
  	width: auto; /* Zrušiť 100vw a nechať šírku automatickú */
  	max-width: 80%; /* Zabezpečí, že neprejde šírku obrazovky */
  	height: 90vh;
  	max-height: 90vh;
  	border-radius: 20px; /* Zaoblenie okrajov (môžete zmeniť alebo odstrániť) */
  	padding: 10px;
  	box-sizing: border-box;
  	display: flex;
  	flex-direction: column;
  	justify-content: space-between; /* Umiestni text a odpovede do správnych pozícií */
  	overflow: hidden; /* Skryje všetok obsah, ktorý prekračuje */
}


:fullscreen .answers 
{
  display: flex;
  gap: 10px;
  justify-content: space-between; /* Udržuje odpovede v riadku, ale zabezpečí medzery medzi nimi */
    flex-wrap: wrap;  /* zabezpečí zalomenie 5.6.2025*/
}


:fullscreen .answer-button 
{	
	font-size: 28px;
  	line-height: 1.2;              /* Výška jedného riadku v násobkoch fontu */
  	height: calc(1.2em * 3 + 30px); /* 3 riadky × line-height + padding */
  	width: 48%;  /* Namiesto fixných 700px použi percentá 5.6.2025*/
  	min-width: 300px; /* Aby sa nezmenšovali príliš 5.6.2025 */
  	box-sizing: border-box;
  	overflow: hidden;
  	display: flex;
  	flex-direction: row;
  	align-items: center;
  	justify-content: flex-start;     
}


:fullscreen .answer-text {
	white-space: normal;
  	overflow-wrap: break-word;
  	text-align: center;
  	display: -webkit-box;
  	-webkit-line-clamp: 3;           /* počet riadkov */
  	-webkit-box-orient: vertical;
  	overflow: hidden;                /* skryje ďalší text */
  	font-size: 28px;
  	line-height: 1.2;
}


:fullscreen .qvizo-title {
	margin-bottom: 0px;
}


:fullscreen .question-counter {
	margin-top: 0px;
  	margin-bottom: 5px;
}



:fullscreen .top-bar {
	display: flex;
  	justify-content: space-between;
  	align-items: center;
  	margin: 10px 0;
  	gap: 20px;          /* Primeraná medzera */
  	flex-wrap: nowrap;  /* zachováš ich v jednom riadku */
}


:fullscreen .question {
	font-size: 52px ;
  	max-height: 550px;        /* odstrániť výškové obmedzenie */
  	min-height: 200px;       /* zvýši minimálnu výšku */
	overflow: hidden;
}


.top-bar 
{
	display: flex;
  	justify-content: space-between;
  	align-items: center;
  	gap: 10px;
  	margin: 20px 0;
  	flex-wrap: nowrap;
}


.start-button, .fullscreen-button 
{
	width: auto;  /* Predvolená šírka pre väčšie obrazovky */
}


@media (max-width: 768px) {
.start-button, .fullscreen-button 
{
	width: 100%; /* Nastavíme tlačidlám šírku na 100% */
    font-size: 24px; /* Znížime veľkosť písma */
    padding: 12px 0;  /* Nastavíme padding pre väčší priestor */
}
}


@media (max-width: 768px) {
.fullscreen-button 
{
	display: none;
}
}


@media (max-width: 768px) {
.question-container, .start-container, .end-container 
{
	max-width: 100%;
	padding: 10px;
	border-width: 3px;
	border-radius: 30px;
	min-height: auto;
}


@media (max-width: 768px) {
.top-bar 
{
	display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    flex-wrap: nowrap;  /* Dôležité, aby nepretekali do ďalšieho riadku */
    }
    

.left-section, .center-section, .right-section 
{
	flex: 0 1 auto; /* zrušíme rovnaké roztiahnutie, aby sa prispôsobili obsahu */
    display: flex;
    align-items: center;
    justify-content: center;
}


.left-section 
{
	justify-content: flex-start;
}


.center-section 
{
	justify-content: center;
    flex-grow: 1; /* Timer nech zaberie zvyšný priestor */
}


.right-section 
{
	justify-content: flex-end;
}


.stop-button, .back-button 
{
	width: auto; /* nech sa prispôsobia obsahu */
    min-width: 80px;
    font-size: 18px;
    padding: 8px 12px;
    white-space: nowrap;
}


.qvizo-title 
{
	font-family: 'Broadway', sans-serif;
	font-size: 36px;
	font-weight: bold;
	margin-bottom: 10px;
}


.qvizo-title .q 
{
	color: red;
}


.qvizo-title .vizo 
{
	color: black;
}


.question-counter 
{
	font-size: 18px;
}


.timer 
{
	font-size: 20px;
    flex-grow: 1;
    text-align: center;
}


.question 
{
	font-size: 24px;
	padding: 10px;
}


.answer-button 
{
	font-size: 22px;
	padding: 10px;
	width: 100%;
	margin: 6px 0;
    	height: auto;         /* Nech sa výška prispôsobí obsahu */
    	min-height: 80px;     /* Minimálna výška */
}


  .answer-text {
   font-size: 18px;      /* Lepšia čitateľnosť na mobile */
}


.answers 
{
	flex-direction: column;
	gap: 10px;
}


.answer-letter 
{
	width: 28px;
	height: 28px;
	font-size: 16px;
	margin-right: 10px;
}


.menu button, .back-button, .stop-button 
{
	font-size 16px;
	padding: 8px 12px;
}


.start-container button.start-button 
{
	font-size: 16px;
	padding: 12px 24px;
}


.start-buttons-wrapper 
{
	display: flex;
  	flex-direction: column;
  	gap: 10px;
  	width: 100%;
}


.time-button 
{
	font-size: 18px;
	padding: 8px 16px;
}


.button-container 
{
	flex-direction: column;
	align-items: center;
}
}


@media (min-width: 769px) {
.question-container, .answers 
{
	max-width: 80%;   /* Nastav šírku na 80% pri desktopoch */
} /*6.6.2025 bolaopacne zatvorka*/


.answers 
{
	flex-direction: row;
}


.answer-button 
{
	width: 45%;
}


.top-bar 
{
	display: flex;
  	justify-content: center;
  	align-items: center;
  	gap: 20px;
  	margin: 20px 0;
  	flex-wrap: wrap;
}


.left-section, .center-section, .right-section 
{
	flex: 1;
  	display: flex;
  	align-items: center;
}


.left-section 
{
	justify-content: flex-start;
}


.center-section 
{
	justify-content: center;
}


.right-section 
{
	justify-content: flex-end;
}


@media screen and (min-width: 1024px) {
:fullscreen .answer-button 
{
	width: 45%;
}
}


@media screen and (max-width: 1023px) {
:fullscreen .answer-button 
{
	width: 100%;
}
}


</style>
</head>
<body>

<!-- 1. OKNO Úvod -->
<div class="new-start-container" id="newStartWindow">
<h2 class="qvizo-title">
<span class="q">Q</span><span class="vizo">VIZO</span>
</h2>
<h2>MIXÉR OTÁZOK</h2>
<div class="button-container">
<button onclick="startCafe()">CAFE</button>   
</div>
</div>

<!-- 2. OKNO Výber času-->
<div class="start-container"> 
<h2 class="qvizo-title">
<span class="q">Q</span><span class="vizo">VIZO</span>
</h2>
<h2>MIXÉR OTÁZOK</h2>
<p>Posledná aktualizácia 15.5.2025</p>
<p>Vyber si časový interval</p>
<div class="time-buttons">
<div style="display: flex; justify-content: center; gap: 10px; margin-bottom: 10px;">
<button class="time-button" onclick="setTime(5)">5</button>
<button class="time-button" onclick="setTime(10)">10</button>
</div>
<div style="display: flex; justify-content: center; gap: 10px;">
<button class="time-button" onclick="setTime(15)">15</button>
<button class="time-button" onclick="setTime(20)">20</button>
</div>
<div style="display: flex; justify-content: center; gap: 10px;">
<button class="time-button" onclick="setTime(25)">25</button>
<button class="time-button" onclick="setTime(30)">30</button>
</div>
</div>
<div class="start-buttons-wrapper">
<button class="start-button" onclick="startGame()">ŠTART</button>
<button class="fullscreen-button" onclick="toggleFullScreen()">FULL SCREEN</button>
</div>
</div>

<!-- 3. OKNO Otázky a odpovede-->  
<div class="question-container" style="display: none;">
<div class="qvizo-title">
<span class="q">Q</span><span class="vizo">VIZO</span>
</div>
<div>
<div class="question-counter" id="counter"></div>
</div>
<div class="question" id="question"></div>
<div class="top-bar new-top-bar">
<button class="stop-button" onclick="togglePause()">STOP</button>
<div class="timer" id="timer">Čas: 10</div>
<button class="back-button" onclick="backToStart()">SPÄŤ</button>
</div>
<div class="answers">
<div class="answer-button" id="btn0" onclick="answerQuestion(0)">
<div class="answer-letter">A</div>
<div class="answer-text"></div>
</div>
<div class="answer-button" id="btn1" onclick="answerQuestion(1)">
<div class="answer-letter">B</div>
<div class="answer-text"></div>
</div>
<div class="answer-button" id="btn2" onclick="answerQuestion(2)">
<div class="answer-letter">C</div>
<div class="answer-text"></div>
</div>
<div class="answer-button" id="btn3" onclick="answerQuestion(3)">
<div class="answer-letter">D</div>
<div class="answer-text"></div>
</div>
</div>
<!-- Tlačidlo Späť-->     
<div class="end-container">
<button onclick="backToStart()" style="font-size: 20px; background-color: #800080; color: white; padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer;">Späť na začiatok</button>
</div>
<script>




let selectedQuestions = [];
let currentQuestionIndex = 0;
let timerInterval;
let userSelectedTime = 10;
let timeLeft = 10;
let isPaused = false;

let questions = [];

const subory = ["otazky 2.json"]; // môžeš rozšíriť

/*Promise.all(subory.map(subor => fetch(`otazky 2/${subor}`).then(res => res.json())))*/
Promise.all(subory.map(subor => fetch(subor).then(res => res.json())))
  .then(jsonSubory => {
    questions = jsonSubory.flat(); // spojí všetky načítané JSON polia do jedného
    console.log("Spojené otázky:", questions);
    /*startGame(); // spustí hru*/
console.log("Otázky načítané, pripravené na hru.");
  })
  .catch(error => console.error("Chyba pri načítaní otázok:", error));



    
function shuffle(array) {
for (let i = array.length - 1; i > 0; i--) {
const j = Math.floor(Math.random() * (i + 1));
[array[i], array[j]] = [array[j], array[i]];
}
}

function setTime(selectedTime) {
	userSelectedTime = selectedTime;
	timeLeft = userSelectedTime;  // Reset timeLeft whenever a new time is selected
	document.getElementById("timer").innerText = `Čas: ${timeLeft}`;
	document.querySelectorAll(".time-button").forEach(btn => btn.classList.remove("active"));
	const clickedBtn = Array.from(document.querySelectorAll(".time-button")).find(btn => btn.innerText.includes(selectedTime));
	if (clickedBtn) clickedBtn.classList.add("active");
}


function adjustFontSizeForQuestion() {
	const questionDiv = document.getElementById("question");
  	const isMobile = window.innerWidth <= 768;
	 // Nastavíme inú počiatočnú veľkosť pre mobil/desktop
  	let fontSize = isMobile ? 32 : 88;
    const minFontSize = isMobile ? 16 : 20;
	questionDiv.style.fontSize = fontSize + "px";
	 // Ak sa text nezmestí, zmenšuj fontSize až po minimálnu hodnotu
  	while (questionDiv.scrollHeight > questionDiv.clientHeight && fontSize > minFontSize) {
    fontSize -= 1;
    questionDiv.style.fontSize = fontSize + "px";
}
}


function adjustFontSizeForAnswers() {
    const isMobile = window.innerWidth <= 768;
    const buttons = document.querySelectorAll('.answer-button');
    buttons.forEach(button => {
    const textDiv = button.querySelector('.answer-text');
    let fontSize = isMobile ? 28 : 52; // menšia veľkosť pre mobil
    textDiv.style.fontSize = fontSize + 'px';
    while (textDiv.scrollHeight > button.clientHeight && fontSize > 12) {
    fontSize -= 1;
    textDiv.style.fontSize = fontSize + 'px';
}
});
}


function startGame() {
	document.querySelector(".start-container").style.display = "none";
	document.querySelector(".question-container").style.display = "flex";
	shuffle(questions);
	selectedQuestions = [...questions];
	currentQuestionIndex = 0;
	showQuestion();
}


function showQuestion() {
	const q = selectedQuestions[currentQuestionIndex];
  	const shuffledAnswers = [...q.answers];
  	shuffle(shuffledAnswers);
	const correctIndex = shuffledAnswers.indexOf(q.answers[q.correct]);
  	selectedQuestions[currentQuestionIndex].shuffledCorrect = correctIndex;
	const questionDiv = document.getElementById("question");
  	questionDiv.innerText = q.question;
	adjustFontSizeForQuestion();  // ← tu zavolaj zmenšovanie veľkosti písma
	document.getElementById("counter").innerText = `Otázka ${currentQuestionIndex + 1} / ${selectedQuestions.length}`;
	document.querySelectorAll(".answer-button").forEach((btn, i) => {
    btn.querySelector(".answer-text").innerText = shuffledAnswers[i];
    btn.querySelector(".answer-letter").innerText = ['A', 'B', 'C', 'D'][i];
    btn.style.backgroundColor = "#ddd";
    btn.style.color = "black";
	});
	adjustFontSizeForAnswers();
	timeLeft = userSelectedTime;
  	document.getElementById("timer").innerText = "Čas: " + timeLeft;
  	clearInterval(timerInterval);
  	isPaused = false;
  	document.querySelector(".stop-button").innerText = "STOP";
	timerInterval = setInterval(() => {
    if (!isPaused) {
    timeLeft--;
    document.getElementById("timer").innerText = "Čas: " + timeLeft;
    if (timeLeft <= 0) {
    clearInterval(timerInterval);
    highlightCorrectAnswer();
}
}
}, 1000);
}


function highlightCorrectAnswer() {
	const correctButton = document.querySelectorAll(".answer-button")[selectedQuestions[currentQuestionIndex].shuffledCorrect];
	correctButton.style.backgroundColor = "#4CAF50";
	correctButton.style.color = "white";
	currentQuestionIndex++;
	if (currentQuestionIndex < selectedQuestions.length) 
	{
	setTimeout(showQuestion, 2000);
	} else {
	setTimeout(() => {
	document.querySelector(".question-container").style.display = "none";	      
	startGame();
	}, 2000);
}
}


function togglePause() {
	const stopBtn = document.querySelector(".stop-button");
	isPaused = !isPaused;
	stopBtn.innerText = isPaused ? "Pokračovať" : "Stop";
}


function backToStart() {
	document.querySelector(".end-container").style.display = "none";
	document.querySelector(".question-container").style.display = "none";
	document.querySelector(".new-start-container").style.display = "flex";setTimeout
	document.querySelector(".start-container").style.display = "none";
	currentQuestionIndex = 0;
	clearInterval(timerInterval);
	isPaused = false;
	document.querySelector(".stop-button").innerText = "Stop";
	document.getElementById("timer").innerText = `Čas: ${userSelectedTime}`;
}


// Funkcia, ktorá sa zavolá pri kliknutí na "CAFE"
function startCafe() {
	console.log("Klikol si na CAFE"); // Log pre overenie, že funkcia sa vykonala
	document.querySelector(".new-start-container").style.display = "none";
	document.querySelector(".start-container").style.display = "block";
}


function toggleFullScreen() {
	if (!document.fullscreenElement) {
	document.documentElement.requestFullscreen().catch(err => {
	alert(`Nepodarilo sa prepnúť do režimu celej obrazovky: ${err.message}`);
	});
	} else {
	document.exitFullscreen();
}
}



</script>
</body>
</html>

